<button mat-raised-button color="primary"
        [disabled]="(isLoading$ | async)"
        (click)="onDeleteRuleNode($event)"
        [fxShow]="!isEdit && !isReadOnly">
  {{'rulenode.delete' | translate }}
</button>
<div class="mat-padding" fxLayout="column">
  <form #ruleNodeForm="ngForm" [formGroup]="ruleNodeFormGroup">
    <fieldset [disabled]="(isLoading$ | async) || !isEdit || isReadOnly">
      <section *ngIf="ruleNode.component.type !== ruleNodeType.RULE_CHAIN">
        <section fxLayout="column" fxLayout.gt-sm="row">
          <mat-form-field class="mat-block">
            <mat-label translate>rulenode.name</mat-label>
            <input matInput formControlName="name" required>
            <mat-error *ngIf="ruleNodeFormGroup.get('name').hasError('required')">
              {{ 'rulenode.name-required' | translate }}
            </mat-error>
          </mat-form-field>
          <mat-checkbox formControlName="debugMode">
            {{ 'rulenode.debug-mode' | translate }}
          </mat-checkbox>
        </section>
        TODO: tb-rule-node-config
        <div formGroupName="additionalInfo" fxLayout="column">
          <mat-form-field class="mat-block">
            <mat-label translate>rulenode.description</mat-label>
            <textarea matInput formControlName="description" rows="2"></textarea>
          </mat-form-field>
        </div>
      </section>
      <section *ngIf="ruleNode.component.type === ruleNodeType.RULE_CHAIN">
        <tb-entity-autocomplete required
                                [excludeEntityIds]="[ruleChainId]"
                                [entityType]="entityType.RULE_CHAIN"
                                formControlName="targetRuleChainId">
        </tb-entity-autocomplete>
        <div formGroupName="additionalInfo" fxLayout="column">
          <mat-form-field class="mat-block">
            <mat-label translate>rulenode.description</mat-label>
            <textarea matInput formControlName="description" rows="2"></textarea>
          </mat-form-field>
        </div>
      </section>
    </fieldset>
  </form>
</div>
